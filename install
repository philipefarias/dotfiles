#!/usr/bin/env bash
set -e

here="$(cd "${0%/*}"; pwd)"

echo "===> Linking dotfiles:"
for file in bash_profile bashrc gitconfig gitignore_global gitmessage vimrc tmux.conf agignore; do
  ln -sfhv "$here/$file" "${HOME}/.$file"
done

echo

echo
echo "===> Setting up Vim:"
mkdir -p "${HOME}/.vim/.backup" && echo "Vim backup directory created"
mkdir -p "${HOME}/.vim/.tmp" && echo "Vim tmp directory created"

if git --version &>/dev/null; then
  echo "Getting Vundle"
  git clone "https://github.com/gmarik/vundle.git" "${HOME}/.vim/bundle/vundle"
  vim +BundleInstall +qall && echo "Vim bundles installed"
  echo
fi
